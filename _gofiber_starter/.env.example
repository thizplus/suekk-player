# Application Configuration
APP_NAME=GoFiber Template
APP_PORT=3000
APP_ENV=development

# Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_USER=postgres
DB_PASSWORD=your_db_password
DB_NAME=gofiber_template
DB_SSL_MODE=disable

# NATS JetStream
NATS_URL=nats://localhost:4222

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Storage Configuration
# Type: "local", "bunny", or "s3" (MinIO/Cloudflare R2)
STORAGE_TYPE=local
STORAGE_PATH=./storage

# Bunny Storage Configuration (for STORAGE_TYPE=bunny)
BUNNY_STORAGE_ZONE=your-storage-zone-name
BUNNY_ACCESS_KEY=your-bunny-access-key
BUNNY_BASE_URL=https://storage.bunnycdn.com
BUNNY_CDN_URL=https://your-cdn-url.b-cdn.net

# S3-Compatible Storage Configuration (for STORAGE_TYPE=s3)
# Works with MinIO (local) and Cloudflare R2 (production)
#
# === MinIO (Local Development) ===
# S3_ENDPOINT=localhost:9000
# S3_ACCESS_KEY=minioadmin
# S3_SECRET_KEY=minioadmin
# S3_BUCKET=videos
# S3_USE_SSL=false
# S3_REGION=us-east-1
# S3_PUBLIC_URL=http://localhost:9000/videos
#
# === Cloudflare R2 (Production) ===
# S3_ENDPOINT=<account-id>.r2.cloudflarestorage.com
# S3_ACCESS_KEY=<r2-access-key-id>
# S3_SECRET_KEY=<r2-secret-access-key>
# S3_BUCKET=videos
# S3_USE_SSL=true
# S3_REGION=auto
# S3_PUBLIC_URL=https://cdn.yourdomain.com
#
S3_ENDPOINT=localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_BUCKET=videos
S3_USE_SSL=false
S3_REGION=us-east-1
S3_PUBLIC_URL=

# CDN/Cloudflare Worker Configuration (for HLS streaming)
# The Cloudflare Worker URL that proxies HLS files from R2
# Client will call this URL with JWT token to access HLS content
#
# === Local Development (no CDN) ===
# CDN_BASE_URL=
#
# === Production (Cloudflare Worker) ===
# CDN_BASE_URL=https://hls.yourdomain.com
#
CDN_BASE_URL=

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_OUTPUT=both
LOG_FILE=logs/app.log
LOG_MAX_SIZE=100
LOG_MAX_BACKUPS=5
LOG_MAX_AGE=30
LOG_COMPRESS=true

# ═══════════════════════════════════════════════════════════════════════════════
# Worker Configuration (for cmd/worker service)
# ═══════════════════════════════════════════════════════════════════════════════

# Worker Mode: "local" (in-process) or "nats" (distributed)
# - local: ใช้ worker pool ภายใน API server (default)
# - nats: ส่ง jobs ไป NATS ให้ worker service แยกประมวลผล
WORKER_MODE=local

# Number of concurrent workers
WORKER_COUNT=2

# Max retry attempts for failed jobs
WORKER_MAX_RETRIES=3

# Temp path for Worker to download/transcode files locally
# Worker จะ download ไฟล์จาก S3 มาที่นี่ แล้ว transcode แล้ว upload กลับไป S3
STORAGE_TEMP_PATH=./temp/transcode

# Delete original file after successful transcode
STORAGE_CLEANUP_ORIGINAL=true

# Storage Quota (bytes) - 0 = unlimited
# Examples: 1TB=1099511627776, 5TB=5497558138880, 10TB=10995116277760
STORAGE_QUOTA_TOTAL=0

# FFmpeg Configuration
FFMPEG_PATH=ffmpeg
FFMPEG_PRESET=medium
FFMPEG_CRF=23



REDIS_URL=redis://localhost:6379
STREAM_COOKIE_KEY=your-secret-32-char-key-here!!
STREAM_COOKIE_DOMAIN=.yourdomain.com